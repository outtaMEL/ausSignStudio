# 快速上手指南

## 🚀 5 分钟入门

### 1. 启动服务器

```bash
cd sign-engine-sandbox
npm run web
```

看到以下输出表示成功：
```
🚀 Sign Engine Sandbox - Web Playground
   http://localhost:3000

按 Ctrl+C 停止服务器
```

### 2. 打开浏览器

访问 `http://localhost:3000`

你应该看到：
- 左侧：控制面板
- 右侧：实时预览（绿色牌面，白色文字）

### 3. 第一次尝试

#### 步骤 A：观察默认渲染
默认显示：
- 目的地："Mary Hill"
- 距离："12"
- 右侧箭头

#### 步骤 B：修改内容
1. 找到 **A. 内容输入** 分组
2. 将"目的地"改为你的名字
3. 观察预览区实时更新 ✨

#### 步骤 C：开启叠加层
1. 找到 **F. 证据与叠加** 分组
2. 勾选以下选项：
   - [x] 文本基线
   - [x] 组中线
   - [x] 间距标注
3. 观察预览区出现红色基线、绿色中线、橙色标注 🔍

#### 步骤 D：查看数值
1. 右侧预览区下方有 **📊 数值面板**
2. 查看"板面 (Board)"部分：
   - 宽度：56.20h = 562.0px
   - 高度：18.75h = 187.5px
3. 这些数值与叠加层完全对应 ✅

---

## 🎓 进阶教程

### 教程 1：理解 h 空间抽象

#### 目标
理解为什么用 h 单位而不是直接用 px

#### 操作
1. 观察默认 **px/h 比例 = 10**
2. 数值面板显示：字母高度 = 8h = 80px
3. 调整滑块到 **px/h = 15**
4. 观察：
   - 字母高度变为 8h = 120px
   - 板面变大，但 h 值不变
   - 相对比例保持一致 🎯

#### 结论
- **h 单位** 是抽象的排版单位
- **px 单位** 是最终渲染单位
- 改变 pxPerH 可以缩放整个设计而不改变布局逻辑

---

### 教程 2：验证字体度量

#### 目标
理解字体度量如何影响布局

#### 操作
1. 打开 **C. 字体度量** 分组
2. 观察默认值：
   - 平均字宽比例 = 0.6
   - Ascent 比例 = 0.8
   - Descent 比例 = 0.2
3. 调整"平均字宽比例"滑块：0.6 → 0.8
4. 观察预览：
   - 文字变宽 📏
   - 板面自动变宽
   - 箭头位置自动右移
5. 查看数值面板：
   - 第 1 行宽度：43.20h → 57.60h
   - 板面宽度：562px → 690px

#### 结论
字体度量直接影响文字测量，进而影响整个布局

---

### 教程 3：像素对齐的重要性

#### 目标
理解为什么需要像素对齐

#### 操作
1. 设置 **px/h = 7**（非整数因子）
2. 打开 **E. 引擎与单位** 分组
3. 选择对齐模式 = **none**
4. 观察数值面板：
   - 基线 Y 可能出现 `74.6px ⚠️`
   - ⚠️ 表示非整数/0.5 像素
5. 切换对齐模式 = **half-pixel**
6. 观察：
   - 基线 Y 变为 `74.5px`（无 ⚠️）
   - 预览区文字边缘更清晰

#### 结论
像素对齐防止亚像素渲染导致的模糊

---

### 教程 4：间距标注验证

#### 目标
用叠加层验证间距计算正确性

#### 操作
1. 开启叠加：
   - [x] 间距标注
   - [x] 文本基线
2. 观察橙色标注线连接两条基线
3. 标注显示：`0.75h`
4. 修改 **行间距 = 1.5**
5. 观察：
   - 标注更新为 `1.50h`
   - 两行文字距离变大
6. 数值面板确认：
   - 行间距：1.50h = 15.0px ✅

#### 结论
叠加层是验证布局逻辑的最佳工具

---

### 教程 5：极端参数压力测试

#### 目标
测试引擎在极端条件下的鲁棒性

#### 操作
1. 点击 **极小参数** 按钮
2. 观察：
   - 字母高度 = 6h
   - px/h = 6
   - 文字很小但布局正确 ✅
3. 点击 **极大参数** 按钮
4. 观察：
   - 字母高度 = 12h
   - px/h = 20
   - 文字很大但布局正确 ✅
5. 点击 **重置为默认** 恢复

#### 结论
引擎在极端参数下仍保持正确性

---

### 教程 6：配置分享与复现

#### 目标
学会保存和分享调参结果

#### 操作
1. 调整参数到满意状态
2. 点击 **📋 复制配置 JSON**
3. 打开文本编辑器，粘贴（Ctrl+V）
4. 保存为 `my-config.json`
5. 刷新页面（参数重置）
6. 点击 **📂 加载配置 JSON**
7. 选择刚才保存的文件
8. 观察：参数完全恢复 🎉

#### 结论
配置 JSON 可用于团队协作和问题复现

---

## 📋 常见任务速查

### 添加盾形
1. **A. 内容输入** → 盾形 = **Route Shield**
2. 盾形文字 = **"M1"**
3. **B. 模板参数** → 盾形位置 = **左侧**

### 移除箭头
1. **A. 内容输入** → 箭头 = **无**
或
2. **B. 模板参数** → 箭头位置 = **无**

### 调整板面边距
1. **B. 模板参数** → 板边距 = **2.0**
2. 观察四周空白增加

### 显示像素网格
1. **F. 证据与叠加** → [x] 像素网格
2. 观察灰色网格（间隔 = pxPerH）

### 下载 SVG
1. **G. 场景测试** → **📥 下载 SVG**
2. 文件保存到下载文件夹

### 切换长短文本
1. **G. 场景测试** → 点击 **长文本** 或 **短文本**
2. 快速测试不同文字长度

---

## 🎯 最佳实践

### ✅ 推荐工作流

1. **从默认开始** - 理解默认参数的含义
2. **单变量调整** - 一次只改一个参数，观察影响
3. **开启叠加层** - 用证据验证而非凭感觉
4. **查看数值面板** - 数值是真相
5. **保存配置** - 满意后立即复制 JSON
6. **极端测试** - 用极端值检验设计

### ❌ 常见错误

1. **同时调多个参数** - 无法定位问题原因
2. **不开叠加层** - 肉眼容易误判
3. **忽略数值面板** - 错过关键线索
4. **不保存配置** - 无法复现好的设计
5. **跳过极端测试** - 隐藏的 bug 未发现

---

## 🔧 故障排查

### 问题：页面空白
**解决**：
1. 检查浏览器控制台（F12）
2. 确认服务器正在运行
3. 刷新页面（Ctrl+R）

### 问题：SVG 不显示
**解决**：
1. 查看是否有红色错误提示
2. 点击"重置为默认"
3. 逐步恢复参数定位问题

### 问题：叠加层不显示
**解决**：
1. 确认复选框已勾选
2. 某些叠加需要特定内容（如间距标注需要多行）
3. 调整颜色对比度（暗色背景下某些颜色不明显）

### 问题：数值面板折叠了
**解决**：
1. 点击数值面板标题栏的 **−/+** 按钮
或
2. 勾选 **F. 证据与叠加** → 显示数值面板

### 问题：复制功能失败
**解决**：
1. 确认浏览器支持剪贴板 API
2. 某些浏览器需要 HTTPS（本地 localhost 除外）
3. 使用"下载 SVG"代替

---

## 📚 进一步学习

### 文档
- [Web Playground README](./README.md) - 完整功能说明
- [功能清单](./FEATURES.md) - 详细实现列表
- [主项目文档](../README.md) - D1-D4 架构

### 实验建议
1. 创建 5 个不同场景的配置
2. 对比长短文本的布局差异
3. 测试所有 3 种对齐模式
4. 验证所有像素对齐模式的区别
5. 尝试添加自定义图标

---

## 💡 小贴士

- **Ctrl +/-** 浏览器缩放查看细节
- **F12** 打开开发者工具查看 SVG 源码
- **Ctrl+R** 快速刷新重置参数
- **截图** 保存有趣的参数组合
- **做笔记** 记录参数与效果的对应关系

---

**现在开始探索吧！** 🎉

遇到问题？查看 [README](./README.md) 或 [FEATURES](./FEATURES.md)

